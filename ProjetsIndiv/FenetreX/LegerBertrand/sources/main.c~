#include <SDL2/SDL.h>
#include <stdio.h>


#define NBREWINDOWS 100


int main(int argc, char **argv) {

  int i;
  
  (void)argc;
  (void)argv;

  SDL_Window *windows [NBREWINDOWS*2];


  
  /* Initialisation de la SDL  + gestion de l'échec possible */
  if (SDL_Init(SDL_INIT_VIDEO) != 0) {
    SDL_Log("Error : SDL initialisation - %s\n", 
	    SDL_GetError());                // l'initialisation de la SDL a échoué 
    exit(EXIT_FAILURE);
  }


  SDL_DisplayMode current;
  SDL_GetCurrentDisplayMode(0, &current);
  int width = current.w;
  int height = current.h;


  float position_x=0;
  float position_y=0;

  /* while(position_x < width/2){

    windows[i] = SDL_CreateWindow()

    
    }*/
  
  for (i = 0 ; i<NBREWINDOWS ; i++){

    position_x += 20i;
    position_y += 20i;

    if(position_x < width/2) {
      windows[i] = SDL_CreateWindow(
				    "left circle",
				    position_x ,position_y,
				    70,70,
				    0
				    );
    }

    
    if(windows[i] == NULL) {
      SDL_Log("Error : SDL window %d ceation - %s\n",i,SDL_GetError());
      SDL_Quit();
      exit(EXIT_FAILURE);
    }
    
    SDL_Delay(100);

  }

  /* for (i = 0 ; i<NBREWINDOWS ; i++){

    windows[i] = SDL_CreateWindow(
				  "right circle",
				  width - 20*i ,0 + 20*i,
				  50,50,
				  0
				  );
    
    if(windows[i] == NULL) {
      SDL_Log("Error : SDL window %d ceation - %s\n",i,SDL_GetError());
      SDL_Quit();
      exit(EXIT_FAILURE);
    }
    SDL_Delay(100);
    
    }*/

  
  SDL_Delay(5000);
  for (i = NBREWINDOWS-1 ; i >= 0 ; i--){
    
    SDL_DestroyWindow(windows[i]);
  
  }

  
  SDL_Quit();                                // quitte la SDL

  return 0;
}
